%fieldset(class="prueba")
  %legend
    - prueba = form.object
    -type = prueba.link.type if prueba.link
    -type = prueba.imagen.type if prueba.imagen
    -type = prueba.archivo.type if prueba.archivo
    -type = prueba.video.type if prueba.video
    -type = prueba.mapa.type if prueba.mapa
    =type
  
  -if params[:action] == 'editar' 
    =form.hidden_field :id
    =form.fields_for :uploader do |uf|
      =uf.hidden_field :id
  =form.hidden_field :posicion
  =form.label :descripcion
  =form.text_field :descripcion
  
  -if type == 'Link'
    =form.fields_for :link do |lf|
      .field.link
        =lf.label :link
        =lf.url_field :link, :required => 'required', :maxlength => 1000

  -elsif type == 'Archivo'
    =form.fields_for :archivo do |af|
      .field.archivo
        =af.label :archivo
        -if params[:action] != 'editar' 
          =af.file_field :archivo, :required => 'required'
        -else
          =link_to prueba.archivo.file.url

  -elsif type == 'Imagen'
    =form.fields_for :imagen do |af|
      .field.imagen
        =af.label :imagen
        -if params[:action] != 'editar' 
          =af.file_field :archivo, :required => 'required'
        -else
          =link_to prueba.imagen.file.url


  -elsif type == 'Video'
    =form.fields_for :video do |ef|
      .field.video
        =ef.label :video
        =ef.text_area :embed, :required => 'required', :maxlength => 1000

  -elsif type == 'Mapa'
    =form.fields_for :mapa do |ef|
      .field.mapa
        =ef.label :mapa
        =ef.text_area :embed, :required => 'required', :maxlength => 1000
        
  .eliminar
    %button(type="button" onclick="promesa.remove_prueba($(this).parents('fieldset.prueba'))" |
      confirm="Est√°s segur@?") eliminar #{type.downcase} 

  .clear
